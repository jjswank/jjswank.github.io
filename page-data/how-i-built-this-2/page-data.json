{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/how-i-built-this-2/",
    "result": {"data":{"site":{"siteMetadata":{"title":"JJ Swank Dev Blog"}},"markdownRemark":{"id":"e9c68606-3fd4-595c-93c5-d634ac360be6","excerpt":"Instead of relying on manual deploys to publish changes to the blog I wanted to automate this work eveytime a merge is made to main. To do this I created aâ€¦","html":"<p>Instead of relying on manual deploys to publish changes to the blog I wanted to automate this work eveytime a merge is made to main. To do this I created a github action that runs on merges.</p>\n<h1>Getting started</h1>\n<ol>\n<li>Create a file in your repository called <code class=\"language-text\">.github\\workflows\\build-and-deploy.yml</code>:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">name: build-and-deploy\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - main\r\njobs:\r\n  build-and-deploy:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - uses: actions/setup-node@v3\r\n        with:\r\n          node-version: '14'\r\n      - run: npm install\r\n      - run: npm run build\r\n      - run: |\r\n          git remote set-url origin https://git:${GITHUB_TOKEN}@github.com/${GITHUB_REPOSITORY}.git\r\n          npx gh-pages -d public -u \"github-actions-bot &lt;support+actions@github.com>\"\r\n        env:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}</code></pre></div>\n<p>This creates a new github action that runs whenever there is a merge to the main branch. It will build the production version of the application and push it to the gh-pages branch automatically.</p>\n<ol start=\"2\">\n<li>Commit and push the change up to your repository. Github should automatically detect the file and create a new action.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f1df0b8b491b25b3d82cfa2051619360/63bea/github-actions.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.848101265822784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHcsJIX/8QAFRABAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAQUCj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAAMBAAAAAAAAAAAAAAAAAAEQESH/2gAIAQEABj8C01//xAAXEAEAAwAAAAAAAAAAAAAAAAABEBHB/9oACAEBAAE/IRGCp//aAAwDAQACAAMAAAAQfA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAACAQUAAAAAAAAAAAAAAAAAAREhMUFRYf/aAAgBAQABPxCxmmASlTCK8P/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github Actions Page\"\n        title=\"Github Actions Page\"\n        src=\"/static/f1df0b8b491b25b3d82cfa2051619360/828fb/github-actions.jpg\"\n        srcset=\"/static/f1df0b8b491b25b3d82cfa2051619360/ff44c/github-actions.jpg 158w,\n/static/f1df0b8b491b25b3d82cfa2051619360/a6688/github-actions.jpg 315w,\n/static/f1df0b8b491b25b3d82cfa2051619360/828fb/github-actions.jpg 630w,\n/static/f1df0b8b491b25b3d82cfa2051619360/0ede0/github-actions.jpg 945w,\n/static/f1df0b8b491b25b3d82cfa2051619360/63bea/github-actions.jpg 1251w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Clicking through you can see the completed job steps as they run:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bd8651152bf169856aee5d8d10091b7f/3ac88/github-actions-2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.56962025316456%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBv/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGjn72aR4gr/8QAGxAAAQQDAAAAAAAAAAAAAAAAAwABBBMCEDT/2gAIAQEAAQUClu+ILiq4qnc+v//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAEEAwEAAAAAAAAAAAAAAAACETORARAhgf/aAAgBAQAGPwJ05bpIqyRVnu//xAAZEAEAAgMAAAAAAAAAAAAAAAABEBEhMXH/2gAIAQEAAT8hdIVMknFv4n//2gAMAwEAAgADAAAAEEwf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QJ//EABsQAAIBBQAAAAAAAAAAAAAAAAERABBRwfDx/9oACAEBAAE/EFQetRThEcidrNPev//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github Actions Page\"\n        title=\"Github Actions Page\"\n        src=\"/static/bd8651152bf169856aee5d8d10091b7f/828fb/github-actions-2.jpg\"\n        srcset=\"/static/bd8651152bf169856aee5d8d10091b7f/ff44c/github-actions-2.jpg 158w,\n/static/bd8651152bf169856aee5d8d10091b7f/a6688/github-actions-2.jpg 315w,\n/static/bd8651152bf169856aee5d8d10091b7f/828fb/github-actions-2.jpg 630w,\n/static/bd8651152bf169856aee5d8d10091b7f/0ede0/github-actions-2.jpg 945w,\n/static/bd8651152bf169856aee5d8d10091b7f/3ac88/github-actions-2.jpg 1260w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Thats it. Now whenever a change or blog post is commited to the main branch, the site will rebuild and deploy.</p>","frontmatter":{"title":"Part 2: How I Built This","description":"Automating the publishing of changes"}},"previous":{"fields":{"slug":"/how-i-built-this/"},"frontmatter":{"title":"How I Built This"}},"next":{"fields":{"slug":"/part-3-how-i-built-this/"},"frontmatter":{"title":"Part 3: How I Built This"}}},"pageContext":{"id":"e9c68606-3fd4-595c-93c5-d634ac360be6","previousPostId":"c9cbdb0a-397a-59a4-b98c-5ff911262861","nextPostId":"e354017f-4690-5fb7-ba38-9d59072b66d4"}},
    "staticQueryHashes": ["2841359383","3257411868"]}